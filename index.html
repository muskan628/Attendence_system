<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>University Attendance Portal</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>
<style>
/* ──────────────────────  GLOBAL ────────────────────── */
:root{
  --bg:#f4f7fb; --card:#fff; --muted:#64748b;
  --primary:#2563eb; --primary-light:#dbeafe; --danger:#ef4444;
  --success:#10b981; --warning:#f59e0b;
  --radius:16px; --shadow:0 8px 24px rgba(0,0,0,.07);
}
*{box-sizing:border-box;margin:0;padding:0;}
body{font-family:'Inter',sans-serif;background:var(--bg);color:#1f2937;min-height:100vh;}
.hidden{display:none !important;}
button{cursor:pointer;font-family:inherit;}

/* ──────────────────────  LOGIN MODAL ────────────────────── */
#login-modal{
  position:fixed;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999;
  padding:16px;
}
#login-box{
  background:#fff;padding:32px;border-radius:var(--radius);width:100%;max-width:380px;
  box-shadow:var(--shadow);text-align:center;
}
#login-box select, #login-box input{
  width:100%;padding:10px;margin:8px 0;border-radius:8px;border:1px solid #cbd5e1;font-size:15px;
}
#login-box button{
  width:100%;padding:12px;background:var(--primary);color:#fff;border:none;border-radius:8px;font-weight:600;margin-top:12px;
}
#loginErr{color:var(--danger);margin-top:8px;display:none;font-size:14px;}

/* ──────────────────────  MAIN LAYOUT ────────────────────── */
#app{display:flex;flex-direction:column;height:100vh;}
header{background:var(--card);padding:16px 20px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 8px rgba(0,0,0,.05);position:relative;}
header .logo img{height:36px;}
header h1{font-size:16px;color:#111;display:none;}
#menu-toggle{display:none;}
#menu-toggle:checked ~ .sidebar{left:0;}
.sidebar{
  position:fixed;top:0;left:-280px;width:280px;height:100%;background:var(--card);box-shadow:var(--shadow);
  transition:left .3s ease;z-index:998;padding:20px;overflow-y:auto;
}
.sidebar .logo{text-align:center;margin-bottom:32px;}
.sidebar .logo img{height:44px;}
.sidebar .logo h1{font-size:18px;color:#111;}
.nav-item{display:flex;align-items:center;padding:12px 16px;color:var(--muted);font-weight:500;transition:.2s;border-radius:8px;margin:4px 8px;}
.nav-item i{margin-right:12px;font-size:18px;}
.nav-item.active,.nav-item:hover{background:var(--primary-light);color:var(--primary);font-weight:600;}
.main-content{flex:1;padding:20px;overflow-y:auto;background:var(--bg);}

/* ──────────────────────  MOBILE MENU ICON ────────────────────── */
.hamburger{
  display:flex;flex-direction:column;gap:4px;cursor:pointer;padding:4px;
}
.hamburger span{width:24px;height:3px;background:#333;border-radius:2px;transition:.3s;}
#menu-toggle:checked ~ header .hamburger span:nth-child(1){transform:rotate(45deg) translate(6px,6px);}
#menu-toggle:checked ~ header .hamburger span:nth-child(2){opacity:0;}
#menu-toggle:checked ~ header .hamburger span:nth-child(3){transform:rotate(-45deg) translate(7px,-7px);}

/* ──────────────────────  CONTENT STYLES ────────────────────── */
.top-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px;margin-bottom:20px;}
.stat-card{background:var(--primary);color:#fff;padding:16px;border-radius:var(--radius);text-align:center;font-size:14px;}
.stat-card p{font-size:24px;font-weight:700;margin:4px 0;}

/* Gauges */
.gauge{position:relative;width:140px;height:140px;margin:0 auto;}
.gauge svg{width:100%;height:100%;transform:rotate(-90deg);}
.gauge circle{fill:none;stroke:#e5e7eb;stroke-width:12;}
.gauge .progress{stroke:var(--primary);stroke-linecap:round;transition:stroke-dashoffset .6s ease;}
.gauge .center{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;}
.gauge .center p{font-size:28px;font-weight:700;margin:0;}
.gauge .center small{font-size:12px;opacity:.9;}
.mini-gauge{width:100px;height:100px;margin:8px auto;}

/* Tables */
.table-wrapper{overflow-x:auto;border-radius:var(--radius);box-shadow:0 2px 8px rgba(0,0,0,.05);margin-top:16px;}
table{width:100%;min-width:600px;border-collapse:collapse;}
th{background:#f8fafc;color:var(--muted);font-weight:600;padding:10px 12px;text-align:left;font-size:13px;}
td{padding:10px 12px;border-top:1px solid #e5e7eb;}
tr:hover{background:#f1f5f9;}
.tag{padding:4px 8px;border-radius:6px;font-size:12px;font-weight:600;}

/* Filters */
.filters{display:flex;gap:8px;margin-bottom:16px;flex-wrap:wrap;}
.filters select,.filters input,.filters button{
  padding:8px 10px;border-radius:8px;border:1px solid #cbd5e1;font-size:14px;flex:1;min-width:120px;
}
.filters button{background:var(--primary);color:#fff;border:none;}

/* Cards */
.card-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px;margin-top:16px;}

/* ──────────────────────  RESPONSIVE ────────────────────── */
@media(min-width:768px){
  #app{flex-direction:row;}
  header h1{display:block;}
  .hamburger{display:none;}
  .sidebar{position:static;left:0;width:260px;padding:24px 0;box-shadow:var(--shadow);}
  .main-content{padding:32px;}
  .top-stats{grid-template-columns:repeat(4,1fr);}
}
</style>
</head>
<body>

<!-- ====================== LOGIN MODAL ====================== -->
<div id="login-modal">
  <div id="login-box">
    <h2 style="margin-bottom:8px;">Login</h2>
    <p style="color:var(--muted);margin-bottom:20px;font-size:14px;">Select role & enter credentials</p>
    <select id="roleSel">
      <option value="student">Student</option>
      <option value="teacher">Teacher</option>
      <option value="hod">HOD</option>
      <option value="admin">Admin</option>
    </select>
    <input id="uid" type="text" placeholder="User ID / Roll No.">
    <input id="upw" type="password" placeholder="Password">
    <button id="loginBtn">Login</button>
    <p id="loginErr">Invalid credentials</p>
  </div>
</div>

<!-- ====================== MAIN APP (hidden) ====================== -->
<div id="app" class="hidden">
  <input type="checkbox" id="menu-toggle" class="hidden">
  
  <!-- Header (Mobile Hamburger + Logo) -->
  <header>
    <label for="menu-toggle" class="hamburger">
      <span></span><span></span><span></span>
    </label>
    <div class="logo">
      <img src="https://via.placeholder.com/180x44/2563eb/ffffff?text=PU" alt="Logo">
      <h1>Punjab University<br><small style="font-weight:400;color:var(--muted);">Attendance Portal</small></h1>
    </div>
    <div></div>
  </header>

  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="logo">
      <img src="https://via.placeholder.com/180x44/2563eb/ffffff?text=PU" alt="Logo">
      <h1>Punjab University<br><small style="font-weight:400;color:var(--muted);">Attendance Portal</small></h1>
    </div>
    <nav>
      <a href="#" class="nav-item active" data-page="student">Dashboard</a>
      <a href="#" class="nav-item" data-page="schedule">Course Schedule</a>
      <a href="#" class="nav-item" data-page="profile">Profile</a>
      <a href="#" class="nav-item" onclick="logout()">Logout</a>
    </nav>
  </aside>

  <!-- Main Content -->
  <main class="main-content" id="content-area">

    <!-- STUDENT -->
    <section id="student" class="page">
      <h2>Overall Attendance</h2>
      <div class="gauge">
        <svg><circle cx="70" cy="70" r="60"></circle><circle class="progress" cx="70" cy="70" r="60"></circle></svg>
        <div class="center"><p>78%</p><small>Current Semester</small></div>
      </div>

      <h3 style="margin:20px 0 12px;">Course-wise</h3>
      <div class="card-grid">
        <div style="background:var(--card);padding:16px;border-radius:var(--radius);box-shadow:var(--shadow);text-align:center;">
          <h4>PHYS-101: Mechanics</h4>
          <div class="gauge mini-gauge">
            <svg><circle cx="50" cy="50" r="40"></circle><circle class="progress" cx="50" cy="50" r="40"></circle></svg>
            <div class="center"><p>62%</p></div>
          </div>
          <p><span class="tag yellow">Warning</span><br>45 Classes | 28 Present</p>
        </div>
        <div style="background:var(--card);padding:16px;border-radius:var(--radius);box-shadow:var(--shadow);text-align:center;">
          <h4>MATH-205: Linear Algebra</h4>
          <div class="gauge mini-gauge">
            <svg><circle cx="50" cy="50" r="40"></circle><circle class="progress" cx="50" cy="50" r="40"></circle></svg>
            <div class="center"><p>91%</p></div>
          </div>
          <p><span class="tag green">Excellent</span><br>44 Classes | 40 Present</p>
        </div>
      </div>
    </section>

    <!-- TEACHER -->
    <section id="teacher" class="page hidden">
      <div class="top-stats">
        <div class="stat-card"><h3>Total Classes</h3><p>180</p></div>
        <div class="stat-card"><h3>My Students</h3><p>180</p></div>
        <div class="stat-card"><h3>Today Present</h3><p>155</p></div>
        <div class="stat-card"><h3>Overall</h3><p>86%</p></div>
      </div>

      <h3>Select Class</h3>
      <div style="display:flex;gap:8px;">
        <input type="text" placeholder="e.g. UG-1/Physics" style="flex:1;">
        <button style="background:var(--primary);color:#fff;padding:8px 16px;border:none;border-radius:8px;">Go</button>
      </div>

      <div class="table-wrapper">
        <table>
          <thead><tr><th>S.No.</th><th>Name</th><th>Absent</th><th>Leave</th><th>%</th></tr></thead>
          <tbody>
            <tr><td>A023PH101</td><td>Amit Sharma</td><td>20</td><td>5</td><td><span class="tag green">88%</span></td></tr>
            <tr><td>A023PH102</td><td>Divya Singh</td><td>25</td><td>3</td><td><span class="tag yellow">72%</span></td></tr>
          </tbody>
        </table>
      </div>
      <button style="margin-top:12px;padding:10px 20px;background:var(--primary);color:#fff;border:none;border-radius:8px;">Submit</button>
    </section>

    <!-- HOD & ADMIN (same structure) -->
    <section id="hod" class="page hidden">
      <div class="top-stats">
        <div class="stat-card"><h3>Classes</h3><p>45</p></div>
        <div class="stat-card"><h3>Students</h3><p>550</p></div>
        <div class="stat-card"><h3>Attendance</h3><p>88.5%</p></div>
        <div class="stat-card"><h3>Defaulters</h3><p>75</p></div>
      </div>
      <div class="filters">
        <select><option>By Date</option></select>
        <select><option>By Class</option></select>
        <button style="background:#10b981;color:#fff;">PDF</button>
        <button style="background:#0ea5e9;color:#fff;">CSV</button>
      </div>
      <div class="table-wrapper">
        <table>
          <thead><tr><th>Dept</th><th>Strength</th><th>Present</th><th>Absent%</th><th>Att%</th><th></th></tr></thead>
          <tbody>
            <tr><td>Physics</td><td>200</td><td>160</td><td>20</td><td>80%</td><td><button class="tag green" style="border:none;">View</button></td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <section id="admin" class="page hidden">
      <div class="top-stats">
        <div class="stat-card"><h3>Students</h3><p>1200</p></div>
        <div class="stat-card"><h3>Present</h3><p>950</p></div>
        <div class="stat-card"><h3>Absent</h3><p>250</p></div>
        <div class="stat-card"><h3>Overall</h3><p>79.17%</p></div>
      </div>
      <div class="table-wrapper">
        <table>
          <thead><tr><th>Dept</th><th>Strength</th><th>Absent</th><th>Leave</th><th>Present%</th></tr></thead>
          <tbody>
            <tr><td>Physics</td><td>300</td><td>40</td><td>10</td><td>83.3%</td></tr>
          </tbody>
        </table>
      </div>
    </section>

  </main>
</div>

<script>
// === USER DATA ===
const users = {
  student: { id: "2023002", pw: "stud2023", name: "Muskan Bhagria", role: "student" },
  teacher: { id: "T001", pw: "teach2023", name: "Prof. Kiran Kaur", role: "teacher" },
  hod:     { id: "H001", pw: "hod2023", name: "Dr. Zubair Fayaz", role: "hod" },
  admin:   { id: "A001", pw: "admin2023", name: "System Admin", role: "admin" }
};
let currentUser = null;

// === LOGIN ===
document.getElementById("loginBtn").addEventListener("click", () => {
  const role = document.getElementById("roleSel").value;
  const id = document.getElementById("uid").value.trim();
  const pw = document.getElementById("upw").value.trim();
  const user = users[role];
  const err = document.getElementById("loginErr");

  if (user && id === user.id && pw === user.pw) {
    currentUser = user;
    document.getElementById("login-modal").remove();
    document.getElementById("app").classList.remove("hidden");
    initDashboard();
  } else {
    err.style.display = "block";
  }
});

// === DASHBOARD INIT ===
function initDashboard() {
  document.querySelectorAll(".page").forEach(p => p.classList.add("hidden"));
  document.getElementById(currentUser.role).classList.remove("hidden");

  document.querySelectorAll(".nav-item").forEach(it => it.classList.remove("active"));
  document.querySelector(`.nav-item[data-page="${currentUser.role}"]`).classList.add("active");

  const h2 = document.querySelector(`#${currentUser.role} h2`);
  if (h2) h2.insertAdjacentHTML("afterbegin", `Welcome, <b>${currentUser.name}</b>!<br><br>`);

  // Animate gauges
  const percents = {student:[78,62,91], teacher:[], hod:[], admin:[]};
  const vals = percents[currentUser.role] || [];
  document.querySelectorAll(".progress").forEach((el,i) => {
    const pct = vals[i] ?? 0;
    const r = el.parentNode.getAttribute("r") || 60;
    const circ = 2 * Math.PI * r;
    el.setAttribute("stroke-dasharray", circ);
    el.setAttribute("stroke-dashoffset", circ * (1 - pct/100));
  });
}

// === NAVIGATION ===
document.querySelectorAll(".nav-item[data-page]").forEach(item => {
  item.addEventListener("click", e => {
    e.preventDefault();
    const pg = item.dataset.page;
    if (!["student","teacher","hod","admin"].includes(pg)) return;
    document.querySelectorAll(".page").forEach(p => p.classList.add("hidden"));
    document.getElementById(pg).classList.remove("hidden");
    document.querySelectorAll(".nav-item").forEach(it => it.classList.remove("active"));
    item.classList.add("active");
  });
});

function logout() { location.reload(); }
</script>
</body>
</html>